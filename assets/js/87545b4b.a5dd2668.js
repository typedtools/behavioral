"use strict";(self.webpackChunk_docs_gh_pages=self.webpackChunk_docs_gh_pages||[]).push([[554],{4616:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return o},contentTitle:function(){return l},metadata:function(){return d},toc:function(){return c},default:function(){return h}});var a=n(4820),s=n(5819),i=(n(3929),n(5242)),r=["components"],o={sidebar_position:1},l="Writting tests",d={unversionedId:"fundamentals/writting-tests",id:"fundamentals/writting-tests",isDocsHomePage:!1,title:"Writting tests",description:"Behavioral uses Gherkin syntax to describe test execution. Here's example:",source:"@site/docs/fundamentals/writting-tests.md",sourceDirName:"fundamentals",slug:"/fundamentals/writting-tests",permalink:"/behavioral/docs/fundamentals/writting-tests",editUrl:"https://github.com/typedtools/behavioral/edit/docs/gh-pages/docs/fundamentals/writting-tests.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Installation",permalink:"/behavioral/docs/installation"},next:{title:"Introduction",permalink:"/behavioral/docs/fundamentals/execution-context/introduction"}},c=[{value:"Tagging",id:"tagging",children:[],level:2}],p={toc:c};function h(e){var t=e.components,n=(0,s.Z)(e,r);return(0,i.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"writting-tests"},"Writting tests"),(0,i.kt)("p",null,"Behavioral uses Gherkin syntax to describe test execution. Here's example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-gherkin",metastring:'title="guess-the-word.feature"',title:'"guess-the-word.feature"'},'Feature: Guess the word\n\n  # The first example has two steps\n  Scenario: Maker starts a game\n    When the Maker starts a game\n    Then the Maker waits for a Breaker to join\n\n  # The second example has three steps\n  Scenario: Breaker joins a game\n    Given the Maker has started a game with the word "silky"\n    When the Breaker joins the Maker\'s game\n    Then the Breaker must guess a word with 5 characters\n')),(0,i.kt)("p",null,"This code is equivalent of the one below:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"describe('Guess the word', () => {\n  it('Maker starts a game', () => {\n    // Here's step execution\n  });\n\n  it('Breaker joins a game', () => {\n    // Here's step execution\n  });\n});\n")),(0,i.kt)("p",null,"As we can see test is create for each scenario individually and group by the name of feature."),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Behavioral is responsible for converting Gherkin syntax into test runner of your choice (e.g. ",(0,i.kt)("a",{parentName:"p",href:"https://jestjs.io/"},"jest")," or ",(0,i.kt)("a",{parentName:"p",href:"https://karma-runner.github.io/latest/index.html"},"karma"),")."))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Easy to read")),(0,i.kt)("p",null,"In behavioral test description is decoupled from it's execution. One of the reason behind it is that tests with mixed description and execution mostly are very hard to read. "),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"AAA pattern")),(0,i.kt)("p",null,"In contrast to traditional JavaScript testing framework like jest, gherkin syntax is powered by ",(0,i.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/visualstudio/test/unit-test-basics?view=vs-2022#write-your-tests"},"AAA pattern"),", so each arrange, act and assert has his own description and each phase is clearly defined (given == arrange, when == act, then == assert)."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"describe('Guess the word', () => {\n  test('Breaker joins a game', () => {\n    // the Maker has started a game with the word \"silky\" - Arrange\n    startAGame('silky');\n\n    // the Breaker joins the Maker's game - Act\n    breakerJoins();\n\n    // the Breaker must guess a word with 5 characters - Assert\n    expect(getBreakerResult()).toBeLessThanOrEqual(5);\n  });\n});\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Sharing")),(0,i.kt)("p",null,"Each step definition can be easly reused in other tests without additional effort of extracting it."),(0,i.kt)("h2",{id:"tagging"},"Tagging"),(0,i.kt)("p",null,"Behavioral uses gherkin tags to add context to test execution. There is several ready to use built-in tags."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"@skip")),(0,i.kt)("p",null,"Setting it on feature level is equivalent of ",(0,i.kt)("inlineCode",{parentName:"p"},"describe.skip")," (skipping whole file). When set on scenario level only tagged scenario is skipped."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"@use()")),(0,i.kt)("p",null,"Allows to pass execution context to tests. This tag requires path to the file containing ",(0,i.kt)("a",{parentName:"p",href:"./execution-context/introduction"},"execution context class"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-gherkin"},"# Use context from ./path/to/ExecutionContext exported as ExecutionContext\n@use(./path/to/ExecutionContext:ExecutionContext)\n# Use context from ./path/to/ExecutionContext default export\n@use(./path/to/ExecutionContext) \n")),(0,i.kt)("p",null,"It can be defined for feature or scenario. All context defined on feature level are inherited by scenarios."),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"For full gherkin reference read ",(0,i.kt)("a",{parentName:"p",href:"https://cucumber.io/docs/gherkin/reference/"},"Gherkin Reference")))))}h.isMDXComponent=!0}}]);