"use strict";(self.webpackChunk_docs_gh_pages=self.webpackChunk_docs_gh_pages||[]).push([[829],{8194:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return r},contentTitle:function(){return l},metadata:function(){return p},toc:function(){return c},default:function(){return m}});var a=n(4820),i=n(5819),o=(n(3929),n(5242)),s=["components"],r={sidebar_position:2},l="Accessing step arguments",p={unversionedId:"fundamentals/execution-context/accessing-step-arguments",id:"fundamentals/execution-context/accessing-step-arguments",isDocsHomePage:!1,title:"Accessing step arguments",description:"Using parameters allow to make step sentences to be more reusable. To declare parameter in step sentence add it's name wrapped with acute brackets (e.g. ``). Here's example:",source:"@site/docs/fundamentals/execution-context/accessing-step-arguments.md",sourceDirName:"fundamentals/execution-context",slug:"/fundamentals/execution-context/accessing-step-arguments",permalink:"/behavioral/docs/fundamentals/execution-context/accessing-step-arguments",editUrl:"https://github.com/typedtools/behavioral/edit/docs/gh-pages/docs/fundamentals/execution-context/accessing-step-arguments.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/behavioral/docs/fundamentals/execution-context/introduction"},next:{title:"State Management",permalink:"/behavioral/docs/fundamentals/execution-context/state-management"}},c=[{value:"Premitive types",id:"premitive-types",children:[],level:3},{value:"Passing more complex types",id:"passing-more-complex-types",children:[{value:"Doc String",id:"doc-string",children:[],level:4},{value:"Data Table",id:"data-table",children:[],level:4},{value:"Converting param to class type",id:"converting-param-to-class-type",children:[],level:4}],level:3}],d={toc:c};function m(e){var t=e.components,n=(0,i.Z)(e,s);return(0,o.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"accessing-step-arguments"},"Accessing step arguments"),(0,o.kt)("p",null,"Using parameters allow to make step sentences to be more reusable. To declare parameter in step sentence add it's name wrapped with acute brackets (e.g. ",(0,o.kt)("inlineCode",{parentName:"p"},"<name>"),"). Here's example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import { Given, Param } from '@typedtools/behavioral';\n\n// ...\n\n@Given('the Maker has started a game with the word \"<word>\"')\nmakerStartsAGame(@Param('word') word: string): void {}\n\n// ...\n")),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Wrapping parameters with quotes are highlighted by editor and it's easier to define what is a parameter in step sentence."))),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Context execution method can return ",(0,o.kt)("inlineCode",{parentName:"p"},"void"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"Promise")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"Observable"),". "))),(0,o.kt)("h3",{id:"premitive-types"},"Premitive types"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Parameter value injected to step execution method will be converted to type provided in type annotation"),". Here's a list of available types:"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Type"),(0,o.kt)("th",{parentName:"tr",align:null},"Possible values"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"string"),(0,o.kt)("td",{parentName:"tr",align:null},"Any string")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"boolean"),(0,o.kt)("td",{parentName:"tr",align:null},"false, true, off, on")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"number"),(0,o.kt)("td",{parentName:"tr",align:null},"Any number")))),(0,o.kt)("h3",{id:"passing-more-complex-types"},"Passing more complex types"),(0,o.kt)("p",null,"To pass data that not fit in single line string or it's hard to convert it to string you can use ",(0,o.kt)("inlineCode",{parentName:"p"},"Doc String"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"Data Table")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"Dictionary"),"."),(0,o.kt)("h4",{id:"doc-string"},"Doc String"),(0,o.kt)("p",null,"Doc Strings allows to pass long strings as step parameter. To see how to pass Doc String in step see ",(0,o.kt)("a",{parentName:"p",href:"https://cucumber.io/docs/gherkin/reference/"},"Doc String Reference"),". Here's an example of using Doc String in action:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'Given I enter blog main page\nThen I see following content:\n  """markdown\n  Blog\n  ===============\n\n  Recent blog posts:\n\n  * [Most dangarous animals on planet](./most-dangerous-animals-on-planet)\n  * [Fungies](./fungies)\n  """\n')),(0,o.kt)("p",null,"And to access Doc String passed with step use ",(0,o.kt)("inlineCode",{parentName:"p"},"DocString")," decorator on step execution method argument:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import { Then, DocString } from '@typedtools/behavioral';\n\n// ...\n\n@Then('I see following content:')\nseeContent(@DocString() content: string): void {\n  // Here's the assertion\n}\n")),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Using colon on end of step sentence is optional, but helps to mark requires of complex argument."))),(0,o.kt)("p",null,"When pass json object in doc string, behavioral will parse it into object. Here's an example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'Given I recieved following object:\n  """json\n  {\n    "title": "Most dangarous animals on planet",\n    "description": "Let\'s go through list of most dangarous animals..."\n  }\n  """\n')),(0,o.kt)("p",null,"To recieve object or collection of objects annotate step execution argument with object or array type:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import { Given, DocString } from '@typedtools/behavioral';\n\n// ...\n\nexport interface Post {\n  title: string;\n  description: string;\n}\n\n// ...\n\n@Given('I recieved following object:')\nrecieveObject(@DocString() post: Post): void {}\n")),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Instead of creating type you can pass also ",(0,o.kt)("inlineCode",{parentName:"p"},"any")," type."),(0,o.kt)("p",{parentName:"div"},"Nevertheless providing interfaces ensure better documentation of possible values recieved in step and type safe validation on context execution side."))),(0,o.kt)("div",{className:"admonition admonition-danger alert alert--danger"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"danger")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Behavioral do not provide validation of JSON structure only throw argument exception when provided string is not valid json."))),(0,o.kt)("p",null,"Doc String also allows to pass collection instead of single object. To achive it update json to pass collection:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'"""json\n[{\n  "title": "Most dangarous animals on planet",\n  "description": "Let\'s go through list of most dangarous animals..."\n}]\n"""\n')),(0,o.kt)("p",null,"And change type adnotation:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"recieveObject(@DocString() posts: Post[]): void {}\n")),(0,o.kt)("h4",{id:"data-table"},"Data Table"),(0,o.kt)("p",null,"Data Table is different approach to pass collection as parameter for step. It represents collection in form of table:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"Given I have posts:\n  | title                             | description                                         |\n  | Most dangarous animals on planet  | Let's go through list of most dangarous animals...  |\n")),(0,o.kt)("p",null,"To access parameter use ",(0,o.kt)("inlineCode",{parentName:"p"},"DataTable")," decorator on context execution method:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import { Given, DataTable } from '@typedtools/behavioral';\n\n// ...\n\nexport interface Post {\n  title: string;\n  description: string;\n}\n\n// ...\n\n@Given('I have posts:')\ngetPosts(@DataTable() posts: Post[]): void {}\n")),(0,o.kt)("h4",{id:"converting-param-to-class-type"},"Converting param to class type"),(0,o.kt)("p",null,"Instead of using interface you can pass class and behavioral will convert it to provided in type annotation. Here's an example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import { Given, DocString } from '@typedtools/behavioral';\n\n// ...\n\nexport class Post {\n  title!: string;\n  description!: string;\n}\n\n// ...\n\n@Given('I recieved following object:')\nrecieveObject(@DocString() post: Post): void {}\n")),(0,o.kt)("p",null,"When using with collection ",(0,o.kt)("inlineCode",{parentName:"p"},"DocString")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"DataTable")," requires providing type factory function:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"recieveObject(@DocString(() => [Post]) posts: Post[]): void {}\n")),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Using class approach you don't need to define every field (only required without defined default)."))))}m.isMDXComponent=!0}}]);